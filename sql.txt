CREATE TABLE Path
(
  PathID INT NOT NULL,
  Station_First INT NOT NULL,
  Station_Second INT NOT NULL,
  Time INT NOT NULL,
  PRIMARY KEY (PathID)
);

CREATE TABLE Staff
(
  TourID INT NOT NULL,
  StaffID INT NOT NULL,
  PRIMARY KEY (StaffID)
);

CREATE TABLE Driver
(
  StaffID INT NOT NULL,
  Name INT NOT NULL,
  Age INT NOT NULL,
  LicenseID INT NOT NULL,
  PRIMARY KEY (StaffID)
);

CREATE TABLE Host
(
  StaffID INT NOT NULL,
  Name INT NOT NULL,
  Age INT NOT NULL,
  PRIMARY KEY (StaffID)
);

CREATE TABLE Stationer
(
  StaffID INT NOT NULL,
  Name INT NOT NULL,
  Age INT NOT NULL,
  PRIMARY KEY (StaffID)
);

CREATE TABLE Station
(
  StationID INT NOT NULL,
  CityID INT NOT NULL,
  Name INT NOT NULL,
  Bay INT NOT NULL,
  PRIMARY KEY (StationID)
);

CREATE TABLE BusType
(
  TypeID INT NOT NULL,
  Name INT NOT NULL,
  PRIMARY KEY (TypeID)
);

CREATE TABLE PaymentType
(
  TypeID INT NOT NULL,
  Name INT NOT NULL,
  PRIMARY KEY (TypeID)
);

CREATE TABLE Model
(
  ModelID INT NOT NULL,
  Name INT NOT NULL,
  PRIMARY KEY (ModelID)
);

CREATE TABLE City
(
  CityID INT NOT NULL,
  Name INT NOT NULL,
  StationID INT NOT NULL,
  PRIMARY KEY (CityID),
  FOREIGN KEY (StationID) REFERENCES Station(StationID)
);

CREATE TABLE UserType
(
  TypeID INT NOT NULL,
  Name INT NOT NULL,
  PRIMARY KEY (TypeID)
);

CREATE TABLE TravelCard
(
  TravelCardID INT NOT NULL,
  Points INT NOT NULL,
  PRIMARY KEY (TravelCardID)
);

CREATE TABLE Users
(
  UserID INT NOT NULL,
  Name INT NOT NULL,
  Gender INT NOT NULL,
  UserType INT NOT NULL,
  PRIMARY KEY (UserID),
  FOREIGN KEY (UserType) REFERENCES UserType(TypeID)
);

CREATE TABLE Log
(
  LogID INT NOT NULL,
  Description INT NOT NULL,
  Date INT NOT NULL,
  PRIMARY KEY (LogID)
);

CREATE TABLE Route
(
  RouteID INT NOT NULL,
  StationID INT NOT NULL,
  StationOrder INT NOT NULL
);

CREATE TABLE Bus
(
  BusID INT NOT NULL,
  Plate INT NOT NULL,
  Capacity INT NOT NULL,
  BusType INT NOT NULL,
  Model INT NOT NULL,
  PRIMARY KEY (BusID),
  FOREIGN KEY (BusType) REFERENCES BusType(TypeID),
  FOREIGN KEY (Model) REFERENCES Model(ModelID),
  UNIQUE (Plate)
);

CREATE TABLE Customer
(
  Name INT NOT NULL,
  Gender INT NOT NULL,
  TCID INT NOT NULL,
  TravelCardID INT NOT NULL,
  PRIMARY KEY (TCID),
  FOREIGN KEY (TravelCardID) REFERENCES TravelCard(TravelCardID),
  UNIQUE (TravelCardID)
);

CREATE TABLE CreditCard
(
  CardName INT NOT NULL,
  CardNumber INT NOT NULL,
  ExpirationDate INT NOT NULL,
  SecurityNumber INT NOT NULL,
  TCID INT NOT NULL,
  FOREIGN KEY (TCID) REFERENCES Customer(TCID),
  UNIQUE (CardNumber),
  UNIQUE (TCID)
);

CREATE TABLE Tour
(
  TourID INT NOT NULL,
  TourDate INT NOT NULL,
  DepartureTime INT NOT NULL,
  DepartureStationID INT NOT NULL,
  ArrivalStationID INT NOT NULL,
  RouteID INT NOT NULL,
  BusID INT NOT NULL,
  PRIMARY KEY (TourID),
  FOREIGN KEY (BusID) REFERENCES Bus(BusID)
);

CREATE TABLE Ticket
(
  TCID INT NOT NULL,
  SeatNumber INT NOT NULL,
  ReferenceNumber INT NOT NULL,
  PaymentDue INT NOT NULL,
  Price INT NOT NULL,
  TourID INT NOT NULL,
  PaymentType INT NOT NULL,
  PRIMARY KEY (ReferenceNumber),
  FOREIGN KEY (TourID) REFERENCES Tour(TourID),
  FOREIGN KEY (PaymentType) REFERENCES PaymentType(TypeID)
);
